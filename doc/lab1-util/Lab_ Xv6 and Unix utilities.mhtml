From: <Saved by Blink>
Snapshot-Content-Location: https://pdos.csail.mit.edu/6.S081/2020/labs/util.html
Subject: Lab: Xv6 and Unix utilities
Date: Wed, 24 Jan 2024 00:12:02 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----"


------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/html
Content-ID: <frame-E91CEAC9297A9B599EFCAC019F9AC5D6@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: https://pdos.csail.mit.edu/6.S081/2020/labs/util.html

<html class=3D"cm-retina" collamark=3D"crx"><head><meta http-equiv=3D"Conte=
nt-Type" content=3D"text/html; charset=3Dwindows-1252"><link rel=3D"stylesh=
eet" type=3D"text/css" href=3D"cid:css-7a372cd2-af11-45be-9613-2d1571cb68cd=
@mhtml.blink" /><link rel=3D"stylesheet" type=3D"text/css" href=3D"cid:css-=
5d43445c-233d-48e5-93c3-8d03894bc444@mhtml.blink" /><link rel=3D"stylesheet=
" type=3D"text/css" href=3D"cid:css-e25570a1-e69d-4015-905a-cfda086c5b7b@mh=
tml.blink" /><link rel=3D"stylesheet" type=3D"text/css" href=3D"cid:css-1f4=
daba3-1324-4e41-8de8-fa65880d0e35@mhtml.blink" />
<title>Lab: Xv6 and Unix utilities</title>
<link rel=3D"stylesheet" href=3D"https://pdos.csail.mit.edu/6.S081/2020/lab=
s/labs.css" type=3D"text/css">

</head>

<body>

<h1>Lab: Xv6 and Unix utilities</h1>

<p>This lab will familiarize you with xv6 and its system calls.

</p><h2>Boot xv6 (<a class=3D"easy" href=3D"https://pdos.csail.mit.edu/6.S0=
81/2020/labs/guidance.html">easy</a>)</h2>

<p>
You can do these labs on an Athena machine or on your own computer.
If you use your own computer, have a look at the
<a href=3D"https://pdos.csail.mit.edu/6.S081/2020/tools.html">lab tools pag=
e</a> for setup tips.

</p><p>If you use Athena, you must use an x86 machine; that is, <tt>uname -=
a</tt>
should mention <tt>i386 GNU/Linux</tt> or <tt>i686 GNU/Linux</tt> or
<tt>x86_64 GNU/Linux</tt>.
You can log into a public Athena host with <tt>ssh -X athena.dialup.mit.edu=
</tt>.
We have set up the appropriate compilers and simulators for you on
Athena.  To use them, run <kbd>add -f 6.828</kbd>.  You must run this
command every time you log in (or add it to your
<tt>~/.environment</tt> file).  If you get obscure errors while
compiling or running <tt>qemu</tt>, check that you added the
course locker.</p>

<p>Fetch the xv6 source for the lab and check out the <tt>util</tt> branch:
</p><pre>$ <kbd>git clone git://g.csail.mit.edu/xv6-labs-2020</kbd>
Cloning into 'xv6-labs-2020'...
...
$ <kbd>cd xv6-labs-2020</kbd>
$ <kbd>git checkout util</kbd>
Branch 'util' set up to track remote branch 'util' from 'origin'.
Switched to a new branch 'util'
</pre>

<p>The xv6-labs-2020 repository differs slightly from the book's
  xv6-riscv; it mostly adds some files. If you are curious look
  at the git log:
</p><pre>$ <kbd>git log</kbd>
</pre>

<p>The files you will need for this and subsequent lab assignments
are distributed using
the <a href=3D"http://www.git-scm.com/">Git</a> version control system.
Above you switched to a branch (<kbd>git checkout util</kbd>)=20
containing a version of xv6 tailored to this lab.
To learn more about Git, take a look at the
<a href=3D"http://www.kernel.org/pub/software/scm/git/docs/user-manual.html=
">Git
user's manual</a>, or, you may find this
<a href=3D"http://eagain.net/articles/git-for-computer-scientists/">CS-orie=
nted
overview of Git</a> useful.
Git allows you to keep track of the changes you make to the code.
For example, if you are finished with one of the exercises, and want
to checkpoint your progress, you can <i>commit</i> your changes
by running:
</p>
<pre>$ <kbd>git commit -am 'my solution for util lab exercise 1'</kbd>
Created commit 60d2135: my solution for util lab exercise 1
 1 files changed, 1 insertions(+), 0 deletions(-)
$
</pre>

<p>
You can keep track of your changes by using the <kbd>git diff</kbd>
command.  Running <kbd>git diff</kbd> will display the changes to your
code since your last commit, and <kbd>git diff
origin/util</kbd> will display the changes relative to the
initial xv6-labs-2020 code.  Here, <tt>origin/xv6-labs-2020</tt> is the
name of the git branch with the initial code you downloaded for the
class.
</p>

<p>Build and run xv6:
</p><pre>$ <kbd>make qemu</kbd>
riscv64-unknown-elf-gcc    -c -o kernel/entry.o kernel/entry.S
riscv64-unknown-elf-gcc -Wall -Werror -O -fno-omit-frame-pointer -ggdb -DSO=
L_UTIL -MD -mcmodel=3Dmedany -ffreestanding -fno-common -nostdlib -mno-rela=
x -I. -fno-stack-protector -fno-pie -no-pie   -c -o kernel/start.o kernel/s=
tart.c
... =20
riscv64-unknown-elf-ld -z max-page-size=3D4096 -N -e main -Ttext 0 -o user/=
_zombie user/zombie.o user/ulib.o user/usys.o user/printf.o user/umalloc.o
riscv64-unknown-elf-objdump -S user/_zombie &gt; user/zombie.asm
riscv64-unknown-elf-objdump -t user/_zombie | sed '1,/SYMBOL TABLE/d; s/ .*=
 / /; /^$/d' &gt; user/zombie.sym
mkfs/mkfs fs.img README  user/xargstest.sh user/_cat user/_echo user/_forkt=
est user/_grep user/_init user/_kill user/_ln user/_ls user/_mkdir user/_rm=
 user/_sh user/_stressfs user/_usertests user/_grind user/_wc user/_zombie=
=20
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) bloc=
ks 954 total 1000
balloc: first 591 blocks have been allocated
balloc: write bitmap block at sector 45
qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M =
-smp 3 -nographic -drive file=3Dfs.img,if=3Dnone,format=3Draw,id=3Dx0 -devi=
ce virtio-blk-device,drive=3Dx0,bus=3Dvirtio-mmio-bus.0

xv6 kernel is booting

hart 2 starting
hart 1 starting
init: starting sh
$=20
</pre>

<p>
If you type <tt>ls</tt> at the prompt, you should see output similar
to the following:
</p><pre>$ <kbd>ls</kbd>
.              1 1 1024
..             1 1 1024
README         2 2 2059
xargstest.sh   2 3 93
cat            2 4 24256
echo           2 5 23080
forktest       2 6 13272
grep           2 7 27560
init           2 8 23816
kill           2 9 23024
ln             2 10 22880
ls             2 11 26448
mkdir          2 12 23176
rm             2 13 23160
sh             2 14 41976
stressfs       2 15 24016
usertests      2 16 148456
grind          2 17 38144
wc             2 18 25344
zombie         2 19 22408
console        3 20 0
</pre>
These are the files that <tt>mkfs</tt> includes in the
initial file system; most are programs you can run.  You just ran one of th=
em: <tt>ls</tt>.

<p>xv6 has no <tt>ps</tt> command, but, if you type <kbd>Ctrl-p</kbd>,
the kernel will print information about each process.
If you try it now, you'll see two lines: one for <tt>init</tt>,
and one for <tt>sh</tt>.
     =20
</p><p>To quit qemu type: <kbd>Ctrl-a x<kbd>.

</kbd></kbd></p><h2>Grading and hand-in procedure</h2>

<p>
You can run <kbd>make grade</kbd>
to test your solutions with the grading program. The TAs will use the same
grading program to assign your lab submission a
grade. Separately, we will also have check-off meetings for labs (see
<a href=3D"https://pdos.csail.mit.edu/6.S081/2020/general.html#grading">Gra=
ding policy</a>).
</p>
=09
<p>The lab code comes with GNU Make rules to make submission easier. After
committing your final changes to the lab, type <kbd>make handin</kbd> to su=
bmit
  your lab.  For detailed instructions on how to submit see <a href=3D"http=
s://pdos.csail.mit.edu/6.S081/2020/labs/util.html#submit">below</a>.

</p><h2>sleep (<a class=3D"easy" href=3D"https://pdos.csail.mit.edu/6.S081/=
2020/labs/guidance.html">easy</a>)</h2>

<div class=3D"required">
<p>Implement the UNIX program <tt>sleep</tt> for xv6; your <tt>sleep</tt> s=
hould pause
  for a user-specified number of ticks.  A tick is a notion of time
  defined by the xv6 kernel, namely the time between two interrupts
  from the timer chip.  Your solution should be in the file
  <tt>user/sleep.c</tt>.
</p></div>

<p>

</p><p>Some hints:
  </p><ul>

    <li>Before you start coding, read Chapter 1 of
    the <a href=3D"https://pdos.csail.mit.edu/6.S081/2020/xv6/book-riscv-re=
v1.pdf">xv6 book</a>.

    </li><li>Look at some of the other programs in <tt>user/</tt>
    (e.g., <tt>user/echo.c</tt>, <tt>user/grep.c</tt>,
    and <tt>user/rm.c</tt>)
    to see
    how you can obtain the command-line arguments passed to a program.

    </li><li>If the user
    forgets to pass an argument, sleep should print an error message.

    </li><li>The command-line argument is passed as a string; you can conve=
rt it to an
      integer using <tt>atoi</tt> (see user/ulib.c).

    </li><li>Use the system call <tt>sleep</tt>.

    </li><li>See <tt>kernel/sysproc.c</tt> for
    the xv6 kernel code that implements the <tt>sleep</tt> system
    call (look for <tt>sys_sleep</tt>), <tt>user/user.h</tt>
    for the C definition of <tt>sleep</tt> callable from a
    user program, and <tt>user/usys.S</tt> for the assembler
    code that jumps from user code into the kernel for <tt>sleep</tt>.

    </li><li>Make sure <tt>main</tt> calls <tt>exit()</tt> in order to exit
    your program.

    </li><li>Add your <tt>sleep</tt> program to <tt>UPROGS</tt> in Makefile=
; once you've
    done that, <tt>make qemu</tt> will compile your program and you'll
    be able to run it from the xv6 shell.

    </li><li>Look at Kernighan and Ritchie's book <i>The C programming lang=
uage
        (second edition)</i> (K&amp;R) to learn about C.

  </li></ul>

  <p>Run the program from the xv6 shell:
    </p><pre>      $ <kbd>make qemu</kbd>
      ...
      init: starting sh
      $ <kbd>sleep 10</kbd>
      (nothing happens for a little while)
      $
    </pre>
  <p>Your solution is correct if your program pauses when
  run as shown above.
  Run <kbd>make grade</kbd> to see if you indeed pass the
    sleep tests.

 </p><p>Note that <kbd>make grade</kbd> runs all tests, including the ones =
for the assignments
 below. If you want to run the grade tests for one assignment, type:
   </p><pre>     $ <kbd>./grade-lab-util sleep</kbd>
   </pre>
   This will run the grade tests that match "sleep".  Or, you can type:
   <pre>     $ <kbd>make GRADEFLAGS=3Dsleep grade</kbd>
   </pre>
   which does the same.
  =20
  =20
<h2>pingpong (<a class=3D"easy" href=3D"https://pdos.csail.mit.edu/6.S081/2=
020/labs/guidance.html">easy</a>)</h2>

<div class=3D"required">
<p> Write a program that uses UNIX system calls to ''ping-pong'' a
  byte between two processes over a pair of pipes, one for each
  direction.
  The parent should send a byte to the child;
  the child should print "&lt;pid&gt;: received ping",
  where &lt;pid&gt; is its process ID,
  write the byte on the pipe to the parent,
  and exit;
  the parent should read the byte from the child,
  print "&lt;pid&gt;: received pong",
  and exit.
  Your
  solution should be in the file <tt>user/pingpong.c</tt>.
</p></div>

<p>Some hints:
  </p><ul>
    <li>Use <tt>pipe</tt> to create a pipe.
    </li><li>Use <tt>fork</tt> to create a child.
    </li><li>Use <tt>read</tt> to read from the pipe, and <tt>write</tt> to=
 write to the pipe.
    </li><li>Use <tt>getpid</tt> to find the process ID of the calling proc=
ess.
    </li><li>Add the program to <tt>UPROGS</tt> in Makefile.
    </li><li>User programs on xv6 have a limited set of library
    functions available to them. You can see the list in
    <tt>user/user.h</tt>; the source (other than for system calls)
    is in <tt>user/ulib.c</tt>, <tt>user/printf.c</tt>,
    and <tt>user/umalloc.c</tt>.
  </li></ul>

  <p>Run the program from the xv6 shell and it should produce the
  following output:
  </p><pre>    $ <kbd>make qemu</kbd>
    ...
    init: starting sh
    $ <kbd>pingpong</kbd>
    4: received ping
    3: received pong
    $
  </pre>
    <p>Your solution is correct if your program exchanges a byte
    between two processes and produces output as shown above.

 =20
</p><h2>primes (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.=
S081/2020/labs/guidance.html">moderate</a>)/(<a class=3D"hard" href=3D"http=
s://pdos.csail.mit.edu/6.S081/2020/labs/guidance.html">hard</a>)</h2>

<div class=3D"required">
  <p>Write a concurrent version of prime sieve using pipes.  This idea
    is due to Doug McIlroy, inventor of Unix pipes.  The picture
    halfway down <a href=3D"http://swtch.com/~rsc/thread/">this page</a>
    and the surrounding text explain how to do it.  Your
    solution should be in the file <tt>user/primes.c</tt>.
</p></div>

    <p>Your goal is to use <tt>pipe</tt> and <tt>fork</tt> to set up
    the pipeline. The first process feeds the numbers 2 through 35
    into the pipeline.  For each prime number, you will arrange to
    create one process that reads from its left neighbor over a pipe
    and writes to its right neighbor over another pipe. Since xv6 has
    limited number of file descriptors and processes, the first
    process can stop at 35.
   =20
</p><p>Some hints:
  </p><ul>
    <li>Be careful to close file descriptors that a process doesn't
    need, because otherwise your program will run xv6 out of resources
    before the first process reaches 35.
     =20
    </li><li>Once the first process reaches 35, it should wait until the
    entire pipeline terminates, including all children, grandchildren,
    &amp;c. Thus the main primes process should only exit after all the
    output has been printed, and after all the other primes processes
    have exited.

    </li><li>Hint: <tt>read</tt> returns zero when the write-side of
    a pipe is closed.

    </li><li>It's simplest to directly write 32-bit (4-byte) <tt>int</tt>s =
to the
        pipes, rather than using formatted ASCII I/O.

    </li><li>You should create the processes in the pipeline only as they a=
re
      needed.

    </li><li>Add the program to <tt>UPROGS</tt> in Makefile.

  </li></ul>

<p>Your solution is correct if it implements a pipe-based
sieve and produces the following output:
  </p><pre>    $ <kbd>make qemu</kbd>
    ...
    init: starting sh
    $ <kbd>primes</kbd>
    prime 2
    prime 3
    prime 5
    prime 7
    prime 11
    prime 13
    prime 17
    prime 19
    prime 23
    prime 29
    prime 31
    $
  </pre>
 =20
<h2>find (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081/2=
020/labs/guidance.html">moderate</a>)</h2>

<div class=3D"required">
<p>Write a simple version of the UNIX find program: find all the files
  in a directory tree with a specific name.  Your solution
  should be in the file <tt>user/find.c</tt>.
 =20
</p></div>
 =20
<p>Some hints:
  </p><ul>
    <li>Look at user/ls.c to see how to read directories.
    </li><li>Use recursion to allow find to descend into sub-directories.
    </li><li>Don't recurse into "." and "..".
    </li><li>Changes to the file system persist across runs of qemu; to get
    a clean file system run <kbd>make clean</kbd> and then <kbd>make qemu</=
kbd>.
    </li><li>You'll need to use C strings. Have a look at K&amp;R (the C bo=
ok),
      for example Section 5.5.
    </li><li> Note that =3D=3D does not compare strings like in Python. Use=
 strcmp() instead.
    </li><li>Add the program to <tt>UPROGS</tt> in Makefile.
  </li></ul>

<p>Your solution is correct if produces the following output (when the
  file system contains the files <tt>b</tt> and <tt>a/b</tt>):
  </p><pre>    $ <kbd>make qemu</kbd>
    ...
    init: starting sh
    $ <kbd>echo &gt; b</kbd>
    $ <kbd>mkdir a</kbd>
    $ <kbd>echo &gt; a/b</kbd>
    $ <kbd>find . b</kbd>
    ./b
    ./a/b
    $=20
  </pre>

<h2>xargs (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081/=
2020/labs/guidance.html">moderate</a>)</h2>

<div class=3D"required">
<p>Write a simple version of the UNIX xargs program: read lines from
  the standard input and run a command for each line, supplying the line as
  arguments to the command.   Your solution
  should be in the file <tt>user/xargs.c</tt>.
</p></div>

  The following example illustrates xarg's
  behavior:
  <pre>    $ <kbd>echo hello too | xargs echo bye</kbd>
    bye hello too
    $
  </pre>
  Note that the command here is "echo bye" and the additional
  arguments are "hello too", making the command "echo bye hello too",
  which outputs "bye hello too".

  <p> Please note that xargs on UNIX makes an optimization where it will fe=
ed more than argument to the command at a time. We don't expect you to make=
 this optimization. To make xargs on UNIX behave the way we want it to for =
this lab, please run it with the -n option set to 1. For instance</p>
  <pre>    $ <kbd>echo "1\n2" | xargs -n 1 echo line</kbd>
    line 1
    line 2
    $
  </pre> =20
 =20
<p>Some hints:
  </p><ul>
    <li>Use <tt>fork</tt> and <tt>exec</tt> to invoke the
      command on each line of input.  Use <tt>wait</tt> in the parent
      to wait for the child to complete the command.
    </li><li>To read individual lines of input, read a character at a time
        until a newline ('\n') appears.
    </li><li>kernel/param.h declares MAXARG, which may be useful if you nee=
d
      to declare an argv array.
    </li><li>Add the program to <tt>UPROGS</tt> in Makefile.
    </li><li>Changes to the file system persist across runs of qemu; to get
    a clean file system run <kdb>make clean</kdb> and then <kdb>make qemu</=
kdb>.
  </li></ul>

<p>xargs, find, and grep combine well:
  </p><pre>  $ <kbd>find . b | xargs grep hello</kbd>
  </pre>
  will run "grep hello" on each file named b in the directories below
  ".".

<p>To test your solution for xargs, run the shell script xargstest.sh.
Your solution is correct if it produces the following output:
  </p><pre>  $ <kbd>make qemu</kbd>
  ...
  init: starting sh
  $ <kbd>sh &lt; xargstest.sh</kbd>
  $ $ $ $ $ $ hello
  hello
  hello
  $ $  =20
  </pre>
You may have to go back and fix bugs in your find program.  The output has
many <tt>$</tt> because the xv6 shell doesn't realize
it is processing commands from a file instead of from the console, and
prints a <tt>$</tt> for each command in the file.

<p><a name=3D"submit">
</a></p><h2><a name=3D"submit">Submit the lab</a></h2><a name=3D"submit">

<p><b>This completes the lab.</b> Make sure you pass all of the make
grade tests. If this lab had questions, don't forget to write up your
answers to the questions in answers-<i>lab-name</i>.txt. Commit your change=
s
(including adding answers-<i>lab-name</i>.txt) and type make handin in the =
lab
  directory to hand in your lab.

</p><h3>Time spent</h3>

<p>Create a new file, <tt>time.txt</tt>, and put in it a single integer, th=
e
number of hours you spent on the lab. Don't forget to <tt>git add</tt> and
<tt>git commit</tt> the file.

</p><h3>Submit</h3>

You will turn in your assignments using
the </a><a href=3D"https://6828.scripts.mit.edu/2020/handin.py/">submission
website</a>.  You need to request once an API key from the submission
website before you can turn in any assignments or labs.
<p></p>

<p>After committing your final changes to the lab, type <kbd>make
handin</kbd> to submit your lab.
</p><pre>$ <kbd>git commit -am "ready to submit my lab"</kbd>
[util c2e3c8b] ready to submit my lab
 2 files changed, 18 insertions(+), 2 deletions(-)

$ <kbd>make handin</kbd>
tar: Removing leading `/' from member names
Get an API key for yourself by visiting https://6828.scripts.mit.edu/2020/h=
andin.py/
Please enter your API key: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Cur=
rent
                                 Dload  Upload   Total   Spent    Left  Spe=
ed
100 79258  100   239  100 79019    853   275k --:--:-- --:--:-- --:--:--  2=
76k
$
</pre>
<kbd>make handin</kbd> will store your API key in <i>myapi.key</i>. If you =
need
to change your API key, just remove this file and let <kbd>make handin</kbd=
>
generate it again (<i>myapi.key</i> must not include newline characters).
<p></p>

<p>
If you run <kbd>make handin</kbd> and you have either uncomitted changes or
untracked files, you will see output similar to the following:
</p><pre> M hello.c
?? bar.c
?? foo.pyc
Untracked files will not be handed in.  Continue? [y/N]
</pre>
Inspect the above lines and make sure all files that your lab solution need=
s
are tracked i.e. not listed in a line that begins with <kbd>??</kbd>.
You can cause <tt>git</tt> to track a new file that you create using
<tt>git add filename</tt>.
<p></p>

<p>
If <kbd>make handin</kbd> does not work properly,=20
try fixing the problem with the curl or Git commands.
Or you can run <kbd>make tarball</kbd>.
This will make a tar file for you, which you can
then upload via our=20
<a href=3D"https://6828.scripts.mit.edu/2020/handin.py/">web interface</a>.
</p>

<p>
</p><div class=3D"warning">
<ul>
  <li>Please run `make grade` to ensure that your code passes all of the te=
sts</li>
  <li>Commit any modified source code before running `make handin`</li>
  <li>You can inspect the status of your submission and download the submit=
ted code at <a href=3D"https://6828.scripts.mit.edu/2020/handin.py/">https:=
//6828.scripts.mit.edu/2020/handin.py/</a> </li>
</ul>
</div>



 =20
<h2>Optional challenge exercises</h2>

<ul>
   =20
  <li><p>Write an uptime program that prints the uptime in terms of
      ticks using the <tt>uptime</tt> system call. (<a class=3D"easy" href=
=3D"https://pdos.csail.mit.edu/6.S081/2020/labs/guidance.html">easy</a>)
      </p></li>

  <li><p>Support regular expressions in name matching
  for <tt>find</tt>.  <tt>grep.c</tt> has some primitive support for
  regular expressions.  (<a class=3D"easy" href=3D"https://pdos.csail.mit.e=
du/6.S081/2020/labs/guidance.html">easy</a>)
      </p></li>

  <li><p>The xv6 shell (<tt>user/sh.c</tt>) is just another user
      program and you can improve it. It is a minimal shell and lacks
      many features found in real shell. For example, modify the shell
      to not print a <tt>$</tt> when processing shell commands from a
      file (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081=
/2020/labs/guidance.html">moderate</a>), modify the shell to
      support wait (<a class=3D"easy" href=3D"https://pdos.csail.mit.edu/6.=
S081/2020/labs/guidance.html">easy</a>), modify the shell to
      support lists of commands, separated by ";"
      (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081/2020=
/labs/guidance.html">moderate</a>), modify the shell to support
      sub-shells by implementing "(" and ")"
      (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081/2020=
/labs/guidance.html">moderate</a>), modify the shell to support
      tab completion (<a class=3D"easy" href=3D"https://pdos.csail.mit.edu/=
6.S081/2020/labs/guidance.html">easy</a>), modify the shell to
      keep a history of passed shell commands
      (<a class=3D"moderate" href=3D"https://pdos.csail.mit.edu/6.S081/2020=
/labs/guidance.html">moderate</a>), or anything else you would
      like your shell to do. (If you are very ambitious, you may have
      to modify the kernel to support the kernel features you need;
      xv6 doesn't support much.)

</p></li></ul>





<div class=3D"cm-popover" id=3D"cm-popover">                <div class=3D"c=
m-popover__arrow">                    <span class=3D"cm-popover__arrow-bg">=
</span>                </div>                <div class=3D"cm-popover__raw-=
open">null</div>            </div><div id=3D"webhighlights-notifications"><=
/div><webhighlights-extension></webhighlights-extension><webhighlights-side=
bar><template shadowmode=3D"open"><!---->
      <!--?lit$568784956$-->
            <main-component part=3D"main-component" data-testid=3D"webhighl=
ights-sidebar-MAIN_COMPONENT" style=3D"left: 0px; right: unset;"><template =
shadowmode=3D"open"><!---->
      <webhighlights-popover data-testid=3D"main-component-POPOVER">
        <!--?lit$568784956$--><!--?-->
      <template shadowmode=3D"open"><!----><!--?--></template></webhighligh=
ts-popover>

      <!-- Button to toggle side-bar. It hides when animation is active -->
      <!--?lit$568784956$--><!--?-->
      <!--?lit$568784956$-->
    </template></main-component>
         =20
      <!--?lit$568784956$--><!--?-->
      <!--?lit$568784956$--><!--?-->
    </template></webhighlights-sidebar><webhighlights-popup-toolbox><templa=
te shadowmode=3D"open"><!---->
      <!--?lit$568784956$-->
    </template></webhighlights-popup-toolbox><webhighlights-notification><t=
emplate shadowmode=3D"open"><!---->
      <div class=3D"notification-wrapper slide-right ">
        <!--?lit$568784956$--><!--?-->
      </div>
    </template></webhighlights-notification><webhighlights-marker><template=
 shadowmode=3D"open"><!---->
      <!--?lit$568784956$-->
            <webhighlights-popup-toolbox data-testid=3D"webhighlights-marke=
r-POPUP_TOOLBOX"><template shadowmode=3D"open"><!---->
      <!--?lit$568784956$-->
    </template></webhighlights-popup-toolbox>
         =20
    </template></webhighlights-marker></body></html>
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-7a372cd2-af11-45be-9613-2d1571cb68cd@mhtml.blink

@charset "windows-1252";

.highlight-mengshou-wrap { background: rgb(255, 255, 153); cursor: pointer;=
 }

.highlight-mengshou-wrap.active { background: rgb(255, 255, 187); }
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-5d43445c-233d-48e5-93c3-8d03894bc444@mhtml.blink

@charset "windows-1252";

:root { --wh-slate-50: #f8fafc; --wh-slate-100: #f1f5f9; --wh-slate-200: #e=
2e8f0; --wh-slate-300: #cbd5e1; --wh-slate-400: #94a3b8; --wh-slate-500: #6=
4748b; --wh-slate-600: #475569; --wh-slate-700: #334155; --wh-slate-800: #1=
e293b; --wh-slate-900: #0f172a; --wh-slate-950: #020617; --wh-primary-50: r=
gb(187, 219, 204); --wh-primary-100: rgb(153, 208, 184); --wh-primary-200: =
rgb(120, 197, 164); --wh-primary-300: rgb(86, 186, 144); --wh-primary-400: =
rgb(53, 176, 125); --wh-primary-500: hsl(161, 100%, 35%); --wh-primary-600:=
 hsl(161, 100%, 33%); --wh-primary-700: hsl(161, 100%, 31%); --wh-primary-8=
00: hsl(161, 100%, 29%); --wh-primary-900: hsl(161, 100%, 25%); --wh-primar=
y-950: hsl(161, 100%, 20%); --wh-secondary-50: hsl(218, 22%, 30%); --wh-sec=
ondary-100: hsl(218, 22%, 27%); --wh-secondary-200: hsl(218, 22%, 25%); --w=
h-secondary-300: hsl(218, 22%, 22%); --wh-secondary-400: hsl(218, 22%, 20%)=
; --wh-secondary-500: hsl(218, 22%, 18%); --wh-secondary-600: hsl(218, 22%,=
 16%); --wh-secondary-700: hsl(218, 22%, 14%); --wh-secondary-800: hsl(218,=
 22%, 12%); --wh-secondary-900: hsl(218, 22%, 8%); --wh-secondary-950: hsl(=
218, 22%, 6%); --wh-gray-50: #f9fafb; --wh-gray-100: #f3f4f6; --wh-gray-200=
: #e5e7eb; --wh-gray-300: #d1d5db; --wh-gray-400: #9ca3af; --wh-gray-500: #=
6b7280; --wh-gray-600: #4b5563; --wh-gray-700: #374151; --wh-gray-800: #1f2=
937; --wh-gray-900: #111827; --wh-gray-950: #030712; --wh-zinc-50: #fafafa;=
 --wh-zinc-100: #f4f4f5; --wh-zinc-200: #e4e4e7; --wh-zinc-300: #d4d4d8; --=
wh-zinc-400: #a1a1aa; --wh-zinc-500: #71717a; --wh-zinc-600: #52525b; --wh-=
zinc-700: #3f3f46; --wh-zinc-800: #27272a; --wh-zinc-900: #18181b; --wh-zin=
c-950: #09090b; --wh-neutral-50: #fafafa; --wh-neutral-100: #f5f5f5; --wh-n=
eutral-200: #e5e5e5; --wh-neutral-300: #d4d4d4; --wh-neutral-400: #a3a3a3; =
--wh-neutral-500: #737373; --wh-neutral-600: #525252; --wh-neutral-700: #40=
4040; --wh-neutral-800: #262626; --wh-neutral-900: #171717; --wh-neutral-95=
0: #0a0a0a; --wh-stone-50: #fafaf9; --wh-stone-100: #f5f5f4; --wh-stone-200=
: #e7e5e4; --wh-stone-300: #d6d3d1; --wh-stone-400: #a8a29e; --wh-stone-500=
: #78716c; --wh-stone-600: #57534e; --wh-stone-700: #44403c; --wh-stone-800=
: #292524; --wh-stone-900: #1c1917; --wh-stone-950: #0c0a09; --wh-red-50: #=
fef2f2; --wh-red-100: #fee2e2; --wh-red-200: #fecaca; --wh-red-300: #fca5a5=
; --wh-red-400: #f87171; --wh-red-500: #ef4444; --wh-red-600: #dc2626; --wh=
-red-700: #b91c1c; --wh-red-800: #991b1b; --wh-red-900: #7f1d1d; --wh-red-9=
50: #450a0a; --wh-orange-50: #fff7ed; --wh-orange-100: #ffedd5; --wh-orange=
-200: #fed7aa; --wh-orange-300: #fdba74; --wh-orange-400: #fb923c; --wh-ora=
nge-500: #f97316; --wh-orange-600: #ea580c; --wh-orange-700: #c2410c; --wh-=
orange-800: #9a3412; --wh-orange-900: #7c2d12; --wh-orange-950: #431407; --=
wh-amber-50: #fffbeb; --wh-amber-100: #fef3c7; --wh-amber-200: #fde68a; --w=
h-amber-300: #fcd34d; --wh-amber-400: #fbbf24; --wh-amber-500: #f59e0b; --w=
h-amber-600: #d97706; --wh-amber-700: #b45309; --wh-amber-800: #92400e; --w=
h-amber-900: #78350f; --wh-amber-950: #451a03; --wh-yellow-50: #fefce8; --w=
h-yellow-100: #fef9c3; --wh-yellow-200: #fef08a; --wh-yellow-300: #fde047; =
--wh-yellow-400: #facc15; --wh-yellow-500: #eab308; --wh-yellow-600: #ca8a0=
4; --wh-yellow-700: #a16207; --wh-yellow-800: #854d0e; --wh-yellow-900: #71=
3f12; --wh-yellow-950: #422006; --wh-lime-50: #f7fee7; --wh-lime-100: #ecfc=
cb; --wh-lime-200: #d9f99d; --wh-lime-300: #bef264; --wh-lime-400: #a3e635;=
 --wh-lime-500: #84cc16; --wh-lime-600: #65a30d; --wh-lime-700: #4d7c0f; --=
wh-lime-800: #3f6212; --wh-lime-900: #365314; --wh-lime-950: #1a2e05; --wh-=
green-50: #f0fdf4; --wh-green-100: #dcfce7; --wh-green-200: #bbf7d0; --wh-g=
reen-300: #86efac; --wh-green-400: #4ade80; --wh-green-500: #22c55e; --wh-g=
reen-600: #16a34a; --wh-green-700: #15803d; --wh-green-800: #166534; --wh-g=
reen-900: #14532d; --wh-green-950: #052e16; --wh-emerald-50: #ecfdf5; --wh-=
emerald-100: #d1fae5; --wh-emerald-200: #a7f3d0; --wh-emerald-300: #6ee7b7;=
 --wh-emerald-400: #34d399; --wh-emerald-500: #10b981; --wh-emerald-600: #0=
59669; --wh-emerald-700: #047857; --wh-emerald-800: #065f46; --wh-emerald-9=
00: #064e3b; --wh-emerald-950: #022c22; --wh-teal-50: #f0fdfa; --wh-teal-10=
0: #ccfbf1; --wh-teal-200: #99f6e4; --wh-teal-300: #5eead4; --wh-teal-400: =
#2dd4bf; --wh-teal-500: #14b8a6; --wh-teal-600: #0d9488; --wh-teal-700: #0f=
766e; --wh-teal-800: #115e59; --wh-teal-900: #134e4a; --wh-teal-950: #042f2=
e; --wh-cyan-50: #ecfeff; --wh-cyan-100: #cffafe; --wh-cyan-200: #a5f3fc; -=
-wh-cyan-300: #67e8f9; --wh-cyan-400: #22d3ee; --wh-cyan-500: #06b6d4; --wh=
-cyan-600: #0891b2; --wh-cyan-700: #0e7490; --wh-cyan-800: #155e75; --wh-cy=
an-900: #164e63; --wh-cyan-950: #083344; --wh-sky-50: #f0f9ff; --wh-sky-100=
: #e0f2fe; --wh-sky-200: #bae6fd; --wh-sky-300: #7dd3fc; --wh-sky-400: #38b=
df8; --wh-sky-500: #0ea5e9; --wh-sky-600: #0284c7; --wh-sky-700: #0369a1; -=
-wh-sky-800: #075985; --wh-sky-900: #0c4a6e; --wh-sky-950: #082f49; --wh-bl=
ue-50: #eff6ff; --wh-blue-100: #dbeafe; --wh-blue-200: #bfdbfe; --wh-blue-3=
00: #93c5fd; --wh-blue-400: #60a5fa; --wh-blue-500: #3b82f6; --wh-blue-600:=
 #2563eb; --wh-blue-700: #1d4ed8; --wh-blue-800: #1e40af; --wh-blue-900: #1=
e3a8a; --wh-blue-950: #172554; --wh-indigo-50: #eef2ff; --wh-indigo-100: #e=
0e7ff; --wh-indigo-200: #c7d2fe; --wh-indigo-300: #a5b4fc; --wh-indigo-400:=
 #818cf8; --wh-indigo-500: #6366f1; --wh-indigo-600: #4f46e5; --wh-indigo-7=
00: #4338ca; --wh-indigo-800: #3730a3; --wh-indigo-900: #312e81; --wh-indig=
o-950: #1e1b4b; --wh-violet-50: #f5f3ff; --wh-violet-100: #ede9fe; --wh-vio=
let-200: #ddd6fe; --wh-violet-300: #c4b5fd; --wh-violet-400: #a78bfa; --wh-=
violet-500: #8b5cf6; --wh-violet-600: #7c3aed; --wh-violet-700: #6d28d9; --=
wh-violet-800: #5b21b6; --wh-violet-900: #4c1d95; --wh-violet-950: #2e1065;=
 --wh-purple-50: #faf5ff; --wh-purple-100: #f3e8ff; --wh-purple-200: #e9d5f=
f; --wh-purple-300: #d8b4fe; --wh-purple-400: #c084fc; --wh-purple-500: #a8=
55f7; --wh-purple-600: #9333ea; --wh-purple-700: #7e22ce; --wh-purple-800: =
#6b21a8; --wh-purple-900: #581c87; --wh-purple-950: #3b0764; --wh-fuchsia-5=
0: #fdf4ff; --wh-fuchsia-100: #fae8ff; --wh-fuchsia-200: #f5d0fe; --wh-fuch=
sia-300: #f0abfc; --wh-fuchsia-400: #e879f9; --wh-fuchsia-500: #d946ef; --w=
h-fuchsia-600: #c026d3; --wh-fuchsia-700: #a21caf; --wh-fuchsia-800: #86198=
f; --wh-fuchsia-900: #701a75; --wh-fuchsia-950: #4a044e; --wh-pink-50: #fdf=
2f8; --wh-pink-100: #fce7f3; --wh-pink-200: #fbcfe8; --wh-pink-300: #f9a8d4=
; --wh-pink-400: #f472b6; --wh-pink-500: #ec4899; --wh-pink-600: #db2777; -=
-wh-pink-700: #be185d; --wh-pink-800: #9d174d; --wh-pink-900: #831843; --wh=
-pink-950: #500724; --wh-rose-50: #fff1f2; --wh-rose-100: #ffe4e6; --wh-ros=
e-200: #fecdd3; --wh-rose-300: #fda4af; --wh-rose-400: #fb7185; --wh-rose-5=
00: #f43f5e; --wh-rose-600: #e11d48; --wh-rose-700: #be123c; --wh-rose-800:=
 #9f1239; --wh-rose-900: #881337; --wh-rose-950: #4c0519; --wh-primary-colo=
r: var(--wh-primary-500); --wh-primary-color-hover: #00a16e; --wh-primary-c=
olor-transparent: #00b0783b; --wh-primary-light: #53e3a6; --wh-primary-dark=
: #007f4b; --wh-primary-dark-hover: #017444; --wh-primary-shadow: #00b07841=
; --wh-primary-shadow-2: #00b07870; --wh-primary-border-color: #c8c8c870; -=
-secondary-color: #3d4455; --secondary-color-hover: #3a4052; --secondary-co=
lor-transparent: #3d44556b; --secondary-light: #4c556d; --secondary-dark: #=
252934; --secondary-dark-hover: #191b22; --secondary-dark-transparent: #2e2=
d2d46; --highlight-color: #92ffaa; --error-color: #d62d4c; --warning-color:=
 #ffcc00; --error-info: #14854e; --success-color: #4BB543; --font-color: #2=
f3237; --font-color-light: #626364; --font-color-dark: #252525; --wh-font-f=
amily: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont,
  'Open Sans', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
  'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; --font-family: v=
ar(--wh-font-family); --font-size: 12px; --webhighlights-font-size: 12px; -=
-link-color: #1d9bf0; --wh-form-active-color: #3b82f6; --wh-mobile-breakpoi=
nt: 767px; --BREAKPOINT_XS: 575px; --BREAKPOINT_S: 767px; --BREAKPOINT_M: 9=
91px; --BREAKPOINT_L: 1199px; --BREAKPOINT_XL: 1399px; --BREAKPOINT_XXL: 16=
99px; --wh-danger-color: var(--red-600); --wh-danger-color-hover: var(--red=
-700); --wh-font-size: 13px; --wh-blockquote-line-height: 1.3; --wh-bg-base=
: var(--wh-secondary-600); --wh-bg-base-hover: var(--wh-secondary-500); --w=
h-border-base: var(--wh-secondary-200); --wh-border-base-hover: var(--wh-se=
condary-100); --wh-border-base-strong: var(--wh-secondary-100); --wh-border=
-base-strong-hover: var(--wh-secondary-50); --wh-bg-base-hover-strong: var(=
--wh-secondary-300); --wh-bg-back: var(--wh-secondary-700); --wh-bg-back-st=
rong: var(--wh-secondary-800); --wh-bg-back-strong-hover: var(--wh-secondar=
y-900); --wh-bg-back-hover: var(--wh-secondary-600); --wh-bg-back-hover-str=
ong: var(--wh-secondary-800); --wh-border-back: var(--wh-secondary-100); --=
wh-border-back-strong: var(--wh-secondary-50); --wh-bg-front: var(--wh-seco=
ndary-400); --wh-bg-front-strong: var(--wh-secondary-200); --wh-bg-front-st=
rong-hover: var(--wh-secondary-100); --wh-bg-front-hover: var(--wh-secondar=
y-300); --wh-bg-front-hover-strong: var(--wh-secondary-200); --wh-border-fr=
ont: hsl(227, 20%, 25%); --wh-border-front-strong: hsl(227, 20%, 35%); --wh=
-text-stronger: hsla(0, 0%, 100%, 0.95); --wh-text-strongest: hsla(0, 0%, 1=
00%, 1); --wh-text-strong: rgba(255, 255, 255, 0.9); --wh-text: rgba(255, 2=
55, 255, 0.85); --wh-text-hover: var(--wh-text-strong); --wh-text-light: rg=
ba(255, 255, 255, 0.73); --wh-text-lighter: rgba(255, 255, 255, 0.63); --wh=
-text-lightest: rgba(255, 255, 255, 0.5); --wh-border-color: hsla(0, 0%, 10=
0%, 0.15); --wh-border-color-strong: hsla(0, 0%, 100%, 0.25); --wh-note-edi=
tor-bg-color: hsl(221, 27%, 20%); --wh-note-editor-bg-color-preview: hsl(22=
1, 27%, 18%); --wh-bg-tags: var(--wh-secondary-300); --wh-bg-tags-hover: va=
r(--wh-secondary-200); --wh-syntax-bg-color: rgba(255, 255, 255, 0.05); --w=
h-fallback-img-color: var(--wh-secondary-600); --wh-bg-disabled: hsl(220, 2=
2%, 18%); --wh-bg-notification-unread: hsla(161, 100%, 20%, 0.15); --wh-bg-=
notification-unread-hover: hsla(161, 100%, 20%, 0.05); --wh-subtle-gray: rg=
b(255, 255, 255, 0.1); --wh-shadow: inset 0 0 0.5px 1px hsla(0, 0%, 100%, 0=
.1),
      /* 2. shadow ring \1f447  */ 0 0 0 1px hsla(230, 13%, 9%, 0.075),
      /* 3. multiple soft shadows \1f447  */ 0 0.3px 0.4px hsla(230, 13%, 9=
%, 0.02),
      0 0.9px 1.5px hsla(230, 13%, 9%, 0.045),
      0 3.5px 6px hsla(230, 13%, 9%, 0.09); }
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-e25570a1-e69d-4015-905a-cfda086c5b7b@mhtml.blink

@charset "windows-1252";

webhighlights-sidebar { --webhighlights-font-size: 14px; }

body.web-highlights-animate { transition: margin-left 300ms linear 0s, marg=
in-right; }

body.web-highlights-open { margin-left: 410px !important; }
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: cid:css-1f4daba3-1324-4e41-8de8-fa65880d0e35@mhtml.blink

@charset "windows-1252";

web-highlight.webhighlights-highlight { border-radius: 2px; background-colo=
r: rgb(146, 255, 170); cursor: pointer; }

web-highlight.webhighlights-highlight.webhighlight-with-tags, web-highlight=
.webhighlights-highlight.webhighlight-with-notes { border-bottom: 2.8px sol=
id gray; border-radius: 0px; }

web-highlight > :not(webhighlights-popup-toolbox) { background-color: rgb(1=
46, 255, 170); }

webhighlights-popup-toolbox.contains-highlight { transform: translate(-63px=
, -10px); position: fixed; }
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: https://pdos.csail.mit.edu/6.S081/2020/labs/labs.css

@charset "windows-1252";

.easy { color: rgb(0, 204, 0); }

.moderate { color: rgb(0, 102, 255); }

.hard { color: rgb(255, 51, 0); }

div.required, div.challenge, div.question, div.warning, div.prereq { margin=
: 1em auto; width: 80%; background-color: rgb(224, 224, 255); padding-left:=
 1em; padding-right: 1em; }

div.required .header { font-weight: bold; }

div.challenge .header { font-style: italic; }

div.question .header { font-weight: bold; }

div.required { background-color: rgb(224, 224, 255); border: 1px solid rgb(=
192, 192, 255); }

div.challenge { background-color: rgb(255, 224, 224); border: 1px solid rgb=
(255, 192, 192); }

div.question { background-color: rgb(224, 224, 255); border: 1px solid rgb(=
192, 192, 255); }

div.warning { background-color: rgb(255, 224, 224); border: 1px solid rgb(2=
55, 192, 192); }

div.prereq { background-color: rgb(255, 239, 213); border: 1px solid rgb(25=
5, 192, 192); }

kbd { color: rgb(0, 119, 0); font-family: monospace; font-weight: bold; }
------MultipartBoundary--Q203BsfHkYCIShaToMjgrzljNsimjYULyjXvwQPU46------
